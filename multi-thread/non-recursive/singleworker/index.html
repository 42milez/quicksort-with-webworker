<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Concurrent Quick Sort</title>
</head>
<body>
<script type="text/javascript">

    (function () {
        var n = 10;
        var ary = new Array(n);
        var result = new Array(ary.length);
        var w = new Worker("../../../lib/quicksort/worker/non-recursive/worker.js");

        // message handler
        w.onmessage = function (event) {
            console.log("------------------------------");
            console.timeEnd("Time");
            var ary = event.data;
            for (var i = 0, len = ary.length; i < len; i++) {
                result[i] = ary[i];
            }
            console.log("sorted array: " + result);
            console.log("len: " + result.length);
        };

        for (var i = 0; i < n; i++) {
            ary[i] = Math.floor(Math.random() * 100);
        }

        console.log("n: " + n);
        console.log("original array: " + ary);
        console.log("len: " + ary.length);

        // start sorting
        console.time("Time");
        w.postMessage(ary);
    })();

</script>
</body>
</html>
